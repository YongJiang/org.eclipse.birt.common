<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Using&nbsp;Java&nbsp;to&nbsp;Write&nbsp;an Event&nbsp;Handler</title>
    <link rel="StyleSheet" href="css/ScriptingWithJava.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
  </head>
  <body>
    <div style="text-align: left;">
      <table cellspacing="0" summary="">
        <tr>
          <td>
            <a href="ScriptingWithJavaScript.23.11.html"><img src="images/prev.gif" alt="Previous" border="0" /></a>
          </td>
          <td>
            <a href="ScriptingReference.25.1.html"><img src="images/next.gif" alt="Next" border="0" /></a>
          </td>
        </tr>
      </table>
    </div>
    <hr align="left" />
    <blockquote>
      <h2 class="zTitleChapter"><a name="190206">Using</a>&nbsp;Java&nbsp;to&nbsp;Write&nbsp;an Event&nbsp;Handler</h2>
      <p class="b_Body"><a name="205717">Creating a Java event handler is more complex than creating a JavaScript </a>event handler. You cannot type Java code directly in BIRT Report Designer. </p>
      <p class="b_Body"><a name="255599">To create a Java event handler class, compile the source for the Java class and </a>make the class visible to BIRT. Creating a Java event handler for BIRT is simplified, however, by the fact that Eclipse is a robust Java development environment and supports integrating a Java project with a BIRT project.</p>
      <h4 class="N_ht_HowTo"><a name="182543">How to create an event handler class and add it to the Java project</a></h4>
      <p class="b_Body"><a name="182544">This section describes the process for using the Eclipse Java development </a>environment to create an event handler class for a scriptable BIRT element. The steps assume that the Java perspective is open and that a Java project exists in the workspace.</p>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zAuto_0023Format">1&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="255727">Add org.eclipse.birt.report.engine_&lt;version&gt;.jar to a Java project, as </a>described in the following steps:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n2_NumList2_outer" style="margin-left: 14.1732pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n2_NumList2_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zAuto_0023FormatGray">1&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n2_NumList2_inner"><a name="255763">In Navigator, select a Java project and choose File</a><span class="Dingbat">&rarr;</span>Properties. In Properties, select Java Build Path<span class="Dingbat">&rarr;</span>Libraries. In Java Build Path, choose Add External JARs.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n2_NumList2_outer" style="margin-left: 14.1732pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n2_NumList2_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zAuto_0023FormatGray">2&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n2_NumList2_inner"><a name="255769">In JAR Selection, navigate to the Eclipse /plugins directory. In a </a>default Eclipse installation, this directory is in the following location:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="cfi2_CodeFirstIndent2"><a name="255543">&lt;ECLIPSE_INSTALL&gt;\eclipse\plugins</a></div>
      <div class="N_n2_NumList2_outer" style="margin-left: 14.1732pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n2_NumList2_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zAuto_0023FormatGray">3&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n2_NumList2_inner"><a name="256930">Select org.eclipse.birt.core_&lt;version&gt;.jar. Use control-click to select </a>org.eclipse.birt.report.engine_&lt;version&gt;.jar. Choose Open. Java Build Path appears, as shown in <a href="#210530" title="Using Java to Write an Event Handler">Figure&nbsp;24-1</a>. Choose OK.</div>
            </td>
          </tr>
        </table>
      </div>
      <p class="i3_Image3"><a name="256937"><img class="Default" src="images/JavaProjectPropertiesDialog.gif" style="display: inline; float: none; left: 0.0; top: 0.0" alt="Figure 24-1 Adding a JAR file to the compiler’s classpath" /></a></p>
      <div class="fc3_FigCall3TitleFirst">
        <b class="Bold">Figure&nbsp;24-1&nbsp;&nbsp;</b><a name="210530">The report engine JAR file in the build path</a></div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zAuto_0023Format">2&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="257077">Select the Java project and choose File</a><span class="Dingbat">&rarr;</span>New<span class="Dingbat">&rarr;</span>Class.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zAuto_0023Format">3&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="257081">To set up the Java class properties, perform the following steps in New </a>Java Class:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n2_NumList2_outer" style="margin-left: 14.1732pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n2_NumList2_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zAuto_0023FormatGray">1&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n2_NumList2_inner"><a name="260496">Navigate to the folder where you want the Java source file to reside by </a>choosing the Browse button beside Source Folder.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n2_NumList2_outer" style="margin-left: 14.1732pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n2_NumList2_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zAuto_0023FormatGray">2&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n2_NumList2_inner"><a name="260497">If the new Java class is a part of a package, type the fully qualified </a>package name in Package.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n2_NumList2_outer" style="margin-left: 14.1732pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n2_NumList2_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zAuto_0023FormatGray">3&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n2_NumList2_inner"><a name="191234">In Name, type a name for the class.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n2_NumList2_outer" style="margin-left: 14.1732pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n2_NumList2_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zAuto_0023FormatGray">4&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n2_NumList2_inner"><a name="191235">In Modifiers, select Public.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n2_NumList2_outer" style="margin-left: 14.1732pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n2_NumList2_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zAuto_0023FormatGray">5&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n2_NumList2_inner"><a name="191236">Select the ROM element event adapter class to extend:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b3_Bullet3_outer" style="margin-left: 28.3464pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b3_Bullet3_inner" style="width: 14.173199999999997pt; white-space: nowrap">
                <span class="zBullet">o&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="b3_Bullet3_inner"><a name="256987">Choose the Browse button beside Superclass.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b3_Bullet3_outer" style="margin-left: 28.3464pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b3_Bullet3_inner" style="width: 14.173199999999997pt; white-space: nowrap">
                <span class="zBullet">o&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="b3_Bullet3_inner"><a name="257017">In Superclass Selection, in Choose a type, type the name of the </a>event adapter class for the ROM element. For example, for a label element, type LabelEventAdapter, as shown in <a href="#257023" title="Using Java to Write an Event Handler">Figure&nbsp;24-2</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <p class="i4_Image4"><a name="257021"><img class="Default" src="images/superclassSelection.gif" style="display: inline; float: none; left: 0.0; top: 0.0" alt="Figure 24-4 Superclass Selection" /></a></p>
      <div class="fc4_FigCall4Title">
        <b class="Bold">Figure&nbsp;24-2&nbsp;&nbsp;</b><a name="257023">Selecting a Superclass</a></div>
      <div class="b3_Bullet3_outer" style="margin-left: 28.3464pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b3_Bullet3_inner" style="width: 14.173199999999997pt; white-space: nowrap">
                <span class="zBullet">o&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="b3_Bullet3_inner"><a name="254165">Choose OK.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zAuto_0023Format">4&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="257161">In New Java Class, </a>select Generate comments. New Java Class appears similar to the one shown in <a href="#255894" title="Using Java to Write an Event Handler">Figure&nbsp;24-3</a>. </div>
            </td>
          </tr>
        </table>
      </div>
      <p class="i2_Image2"><a name="255892"><img class="Default" src="images/JavaClass.gif" style="display: inline; float: none; left: 0.0; top: 0.0" alt="Figure 24-3 New Java Class" /></a></p>
      <div class="fc2_FigCall2Title">
        <b class="Bold">Figure&nbsp;24-3&nbsp;&nbsp;</b><a name="255894">New Java Class final properties</a></div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zAuto_0023Format">5&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="257151">Choose Finish. The Java editor appears, similar to the one shown in </a><a href="#210837" title="Using Java to Write an Event Handler">Figure&nbsp;24-4</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <p class="i2_Image2"><a name="182568"><img class="Default" src="images/MyLabelClass.gif" style="display: inline; float: none; left: 0.0; top: 0.0" alt="Figure 24-5 The Java editor" /></a></p>
      <div class="fc2_FigCall2Title">
        <b class="Bold">Figure&nbsp;24-4&nbsp;&nbsp;</b><a name="210837">The new class in the Java editor</a></div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zAuto_0023Format">6&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="182569">Add the event handler method for the event handler class. Import all </a>required classes. <a href="#210863" title="Using Java to Write an Event Handler">Figure&nbsp;24-5</a> shows the addition of an onPrepare(&nbsp;) method that sets the background color of a label to red.</div>
            </td>
          </tr>
        </table>
      </div>
      <p class="i2_Image2"><a name="188765"><img class="Default" src="images/MyLabelClass2.gif" style="display: inline; float: none; left: 0.0; top: 0.0" alt="Figure 24-6 The onPrepare( ) method in the Java editor" /></a></p>
      <div class="fc2_FigCall2Title">
        <b class="Bold">Figure&nbsp;24-5&nbsp;&nbsp;</b><a name="210863">The onPrepare(</a>&nbsp;) method in the Java editor</div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zAuto_0023Format">7&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="257243">Choose File</a><span class="Dingbat">&rarr;</span>Save.</div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="N_ht_HowTo"><a name="190654">How to associate a Java class with a report element</a></h4>
      <p class="b_Body"><a name="190655">The steps in this procedure make the following assumptions:</a></p>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zBullet">n&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="190657">A report design is open in the Report Design perspective.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zBullet">n&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="257261">The report design includes a scriptable report item, such as a label.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="b1_Bullet1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="b1_Bullet1_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zBullet">n&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="b1_Bullet1_inner"><a name="190658">A Java class containing event handler methods for the scriptable report </a>item is visible to BIRT.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zAuto_0023Format">1&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="190659">In Outline, select the report element for which an event handler class is </a>visible to BIRT, as shown in <a href="#212302" title="Using Java to Write an Event Handler">Figure&nbsp;24-6</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <p class="i2_Image2"><a name="190663"><img class="Default" src="images/SelectLabel.gif" style="display: inline; float: none; left: 0.0; top: 0.0" alt="Figure 24-7 Selecting a report element" /></a></p>
      <div class="fc2_FigCall2Title">
        <b class="Bold">Figure&nbsp;24-6&nbsp;&nbsp;</b><a name="212302">Selecting a report element </a></div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zAuto_0023Format">2&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="190664">In Property Editor, choose Event Handler, as shown in </a><a href="#212318" title="Using Java to Write an Event Handler">Figure&nbsp;24-7</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <p class="i2_Image2"><a name="190725"><img class="Default" src="images/PropertyEditorEventHandler.gif" style="display: inline; float: none; left: 0.0; top: 0.0" alt="Figure 24-8 The event handler class name" /></a></p>
      <div class="fc2_FigCall2Title">
        <b class="Bold">Figure&nbsp;24-7&nbsp;&nbsp;</b><a name="212318">Event handler properties</a></div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zAuto_0023Format">3&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="257270">Choose Browse. Class Selection shows available event handler classes.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zAuto_0023Format">4&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="257333">Select the event handler class that extends the BIRT ROM event adapter </a>class, as shown in <a href="#257378" title="Using Java to Write an Event Handler">Figure&nbsp;24-8</a>. Then, choose OK.</div>
            </td>
          </tr>
        </table>
      </div>
      <p class="i2_Image2"><a name="257343"><img class="Default" src="images/EventHandlerSelection.gif" style="display: inline; float: none; left: 0.0; top: 0.0" alt="" /></a></p>
      <div class="fc2_FigCall2Title">
        <b class="Bold">Figure&nbsp;24-8&nbsp;&nbsp;</b><a name="257378">Selecting the event handler class</a></div>
      <div class="N_i_Indent1"><a name="257297">The fully qualified name of the event handler class appears in Property </a>Editor, as shown in <a href="#257672" title="Using Java to Write an Event Handler">Figure&nbsp;24-9</a>.</div>
      <p class="i2_Image2"><a name="257670"><img class="Default" src="images/PropertyEditorEventHandler2.gif" style="display: inline; float: none; left: 0.0; top: 0.0" alt="Figure 24-8 The event handler class name" /></a></p>
      <div class="fc2_FigCall2Title">
        <b class="Bold">Figure&nbsp;24-9&nbsp;&nbsp;</b><a name="257672">The event handler class name</a></div>
      <div class="N_n1_NumList1_outer" style="margin-left: 0pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline">
            <td>
              <div class="N_n1_NumList1_inner" style="width: 14.1732pt; white-space: nowrap">
                <span class="zAuto_0023Format">5&nbsp;&nbsp;</span>
              </div>
            </td>
            <td width="100%">
              <div class="N_n1_NumList1_inner"><a name="257686">Preview the report. The label’s background color is red.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <p class="b_Body"><a name="223420">&nbsp;</a></p>
    </blockquote>
    <hr align="left" />
    <table align="right" summary="">
      <tr>
        <td class="WebWorks_Company_Name_Bottom">
          <a href="notices.html">(c) Copyright Actuate Corporation 2011</a>
        </td>
      </tr>
    </table>
  </body>
</html>